pipeline {
    agent any
    environment {
        PATH = "/opt/maven3.6.3/bin:$PATH"
    }
    stages{
        stage("Git"){
            steps{
                git 'https://github.com/Suhana09/DevOps-Demo-WebApp.git'
            }
        }
        stage("Sanity test") {
            steps {
                sh "mvn clean test"
                publishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: false, reportDir: '\\functionaltest\\target\\surefire-reports', reportFiles: 'index1.html', reportName: 'UI Test Report', reportTitles: ''])
                publishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: false, reportDir: '\\Acceptancetest\\target\\surefire-reports', reportFiles: 'index.html', reportName: 'Sanity Test Report', reportTitles: ''])
            }
        }
    }
               
}
